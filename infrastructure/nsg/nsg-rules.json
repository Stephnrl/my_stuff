{
  "webTierRules": [
    {
      "name": "AllowHTTP",
      "properties": {
        "description": "Allow HTTP traffic",
        "protocol": "Tcp",
        "sourcePortRange": "*",
        "destinationPortRange": "80",
        "sourceAddressPrefix": "Internet",
        "destinationAddressPrefix": "*",
        "access": "Allow",
        "priority": 100,
        "direction": "Inbound"
      }
    },
    {
      "name": "AllowHTTPS",
      "properties": {
        "description": "Allow HTTPS traffic",
        "protocol": "Tcp",
        "sourcePortRange": "*",
        "destinationPortRange": "443",
        "sourceAddressPrefix": "Internet",
        "destinationAddressPrefix": "*",
        "access": "Allow",
        "priority": 110,
        "direction": "Inbound"
      }
    }
  ],
  "appTierRules": [
    {
      "name": "AllowFromWebTier",
      "properties": {
        "description": "Allow traffic from web tier",
        "protocol": "Tcp",
        "sourcePortRange": "*",
        "destinationPortRange": "8080",
        "sourceAddressPrefix": "10.1.1.0/24",
        "destinationAddressPrefix": "*",
        "access": "Allow",
        "priority": 100,
        "direction": "Inbound"
      }
    },
    {
      "name": "AllowHealthChecks",
      "properties": {
        "description": "Allow health check probes",
        "protocol": "Tcp",
        "sourcePortRange": "*",
        "destinationPortRange": "8081",
        "sourceAddressPrefix": "AzureLoadBalancer",
        "destinationAddressPrefix": "*",
        "access": "Allow",
        "priority": 110,
        "direction": "Inbound"
      }
    }
  ]
}
