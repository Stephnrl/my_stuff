---
# templates/common/namespace.yml.j2
apiVersion: v1
kind: Namespace
metadata:
  name: {{ namespace }}
  labels:
    app.kubernetes.io/name: {{ app_name }}
    app.kubernetes.io/managed-by: ansible
{% if namespace_labels is defined %}
{% for key, value in namespace_labels.items() %}
    {{ key }}: "{{ value }}"
{% endfor %}
{% endif %}
{% if namespace_annotations is defined and namespace_annotations | length > 0 %}
  annotations:
{% for key, value in namespace_annotations.items() %}
    {{ key }}: "{{ value }}"
{% endfor %}
{% endif %}
