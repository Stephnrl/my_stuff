---
# Azure-specific RHEL9-STIG deviations
# This works with localhost because localhost is part of "all" group

# ============================================
# CRITICAL: PACKER BUILD SPECIFIC
# ============================================

# Don't reboot during image build
skip_reboot: true

# Skip OS check since we're building
skip_os_check: false

# We're not in a chroot but in a build environment
rhel9stig_system_is_chroot: false

# ============================================
# AZURE DEVIATIONS (from your document)
# ============================================

## SELinux - Permissive mode
rhel_09_431010: false  # Don't enforce SELinux

## Firewalld - Disabled
rhel_09_251010: false
rhel_09_251015: false
rhel_09_251020: false
rhel_09_251030: false

## AIDE - Not using
rhel9stig_use_aide: false
rhel9stig_config_aide: false

## Auditd - Keep enabled
rhel9stig_auditd_required: true

## fapolicyd - Using Defender instead
rhel_09_651010: false
rhel_09_651015: false

## USB/Hardware - Not applicable
rhel_09_272030: false
rhel_09_272035: false
rhel_09_272040: false
rhel_09_291010: false
rhel_09_291020: false
rhel_09_291025: false

## Smart Card - Using Azure AD
rhel_09_211045: false
rhel_09_211050: false
rhel_09_611160: false
rhel_09_611165: false
rhel_09_611175: false
rhel_09_611180: false
rhel_09_611185: false
rhel9stig_smartcard_reader: false

## GUI - Headless
rhel9stig_gui_approved: false
rhel_09_211010: false
rhel_09_211015: false
rhel_09_211020: false
rhel_09_211030: false
rhel_09_211040: false
rhel_09_211055: false

## Kernel modules for Azure
rhel_09_231010: false  # Keep autofs
rhel_09_231105: false  # Keep cramfs
rhel_09_231125: false  # Keep kdump

## Services for Azure
rhel9stig_nfs_utils_required: true
rhel9stig_tuned_required: true

## Azure networking
rhel9stig_dns_ip4_servers:
  - 168.63.129.16

## Azure time sync
rhel9stig_time_synchronization_servers:
  - time.windows.com
