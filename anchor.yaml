# config.yaml

# Database configurations
database_configs:
  high_performance: &db_high_perf
    instance_class: db.r6g.xlarge
    storage_type: io1
    iops: 3000
    storage_encrypted: true
    
  standard: &db_standard
    instance_class: db.t3.medium
    storage_type: gp3
    iops: 3000
    storage_encrypted: true
    
  minimal: &db_minimal
    instance_class: db.t3.micro
    storage_type: gp2
    iops: 0
    storage_encrypted: false

# Networking configurations
network_configs:
  production_network: &prod_network
    vpc_cidr: 10.0.0.0/16
    private_subnets:
      - 10.0.1.0/24
      - 10.0.2.0/24
      - 10.0.3.0/24
    public_subnets:
      - 10.0.101.0/24
      - 10.0.102.0/24
      - 10.0.103.0/24
    enable_nat_gateway: true
    single_nat_gateway: false
    
  sandbox_network: &sandbox_network
    vpc_cidr: 10.100.0.0/16
    private_subnets:
      - 10.100.1.0/24
    public_subnets:
      - 10.100.101.0/24
    enable_nat_gateway: true
    single_nat_gateway: true  # Save costs in sandbox

# Combine everything
environments:
  production:
    network:
      <<: *prod_network
    database:
      <<: *db_high_perf
      multi_az: true
      backup_retention_period: 30
      
  sandbox:
    network:
      <<: *sandbox_network
    database:
      <<: *db_minimal
      multi_az: false
      backup_retention_period: 1
